# ğŸ§¾ UI FX Demo â€“ êµ¬í˜„ ì˜ë„ ë° ì œì•ˆì„œ ëŒ€ì‘ ì„¤ëª…

ë³¸ í”„ë¡œì íŠ¸ëŠ” ì¼€ì´ì—˜í”¼(KLP) ì±„ìš© ë©”ì¼ì— ëª…ì‹œëœ **UI ì—°ì¶œ ë°ëª¨ ê³¼ì œ** ìš”êµ¬ì‚¬í•­ì— ì¶©ì‹¤íˆ ë¶€í•©í•˜ë„ë¡ ì„¤ê³„Â·êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.  
ìš”êµ¬ëœ ê¸°ëŠ¥ì  ì¡°ê±´(Animator, ì´í™íŠ¸, DOTween ì‚¬ìš©)ê³¼ ì—°ì¶œ íë¦„(ìƒíƒœ ì „í™˜ â†’ ëª¨ì…˜/ì´í™íŠ¸ ì—°ì¶œ â†’ ê²°ê³¼ UI ë…¸ì¶œ)ì„ ëª¨ë‘ ì¶©ì¡±í•˜ë©°,  
UI ê¸°ë°˜ì˜ ê²½ëŸ‰ êµ¬ì¡°ë¡œ ì‹¤ë¬´ í™˜ê²½ì— ì í•©í•œ í¼í¬ë¨¼ìŠ¤ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.

---

## ğŸ‡ UI FX Demo  
ğŸ“ [GitHub Repository](https://github.com/OnionKimchi/UI-Fx-Demo)  
ğŸ¥ [ì‹œì—° ì˜ìƒ ë³´ê¸° (Google Drive)](https://drive.google.com/file/d/1TbSaKxb2HxSB6VwKBgHumERa_JOw8CYo/view?usp=sharing)

[![UI FX Demo Thumbnail](./Assets/ScreenShots/thumbnail.png)](https://drive.google.com/file/d/1TbSaKxb2HxSB6VwKBgHumERa_JOw8CYo/view?usp=sharing)

---

## ğŸ“œ ìš”ì²­ ì¡°ê±´ ìš”ì•½

> **[ì£¼ì œ]**  
> UI ì—°ì¶œ ë°ëª¨ (Animator Â· ì´í™íŠ¸ Â· DOTween)  
>   
> **[ë‚´ìš©]**  
> í•œ ì”¬, ë²„íŠ¼ 1ê°œë¡œ â€œìƒíƒœ ì „í™˜ â†’ ëª¨ì…˜/ì´í™íŠ¸ ì—°ì¶œ â†’ ê²°ê³¼ UI ë…¸ì¶œâ€ íë¦„ 1íšŒ (10~30ì´ˆ)  
>   
> **[í•„ìˆ˜ ì¡°ê±´]**  
> - Animator 1íšŒ ì´ìƒ ì‚¬ìš©  
> - ì´í™íŠ¸ 1ê°œ ì´ìƒ ì‚¬ìš© (3D, íŒŒí‹°í´ í—ˆìš©)  
> - DOTween 1íšŒ ì´ìƒ ì‚¬ìš©  
> - UI ê¸°ë°˜(UGUI) ì œì‘  
> - ì—ì…‹ ììœ  ì‚¬ìš© ê°€ëŠ¥  
>   
> **[ì œì¶œìë£Œ]**  
> - ì‹œì—° ì˜ìƒ (10~30ì´ˆ)  
> - êµ¬í˜„ ì„¤ëª… + í•µì‹¬ ì½”ë“œ (í…ìŠ¤íŠ¸ ë˜ëŠ” PDF)

---

## ğŸ¯ êµ¬í˜„ ë°©í–¥ ë° ëŒ€ì‘ ì „ëµ

### 1ï¸âƒ£ **ìš”êµ¬ íë¦„ ì¶©ì¡±: â€œìƒíƒœ ì „í™˜ â†’ ëª¨ì…˜/ì´í™íŠ¸ â†’ ê²°ê³¼ UI ë…¸ì¶œâ€**
- ë²„íŠ¼ í´ë¦­ ì‹œ Animatorë¥¼ í†µí•´ **ë³„ ì˜¤ë¸Œì íŠ¸ì˜ ìƒíƒœ ì „í™˜(ON/OFF/Twinkle)** ì„ í‘œí˜„í•©ë‹ˆë‹¤.  
- ì´ì–´ì„œ DOTweenì„ ì´ìš©í•œ **ë³„ ì´í™íŠ¸(ìƒìŠ¹Â·ë‚™í•˜Â·íšŒì „Â·í˜ì´ë“œ)** ì—°ì¶œì´ ì¬ìƒë˜ë©°,  
  í´ë¦­ì— ë”°ë¥¸ í”¼ë“œë°±ì´ **ì‹œê°ì ìœ¼ë¡œ ì™„ê²°ë˜ëŠ” 1íšŒ ë£¨í”„í˜• êµ¬ì¡°**ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.  
- ëª¨ë“  ì—°ì¶œì€ UI(Canvas) ê¸°ë°˜ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë©°, **ì”¬ ì „í™˜ ì—†ì´ í•œ ì”¬ ë‚´ì—ì„œ ì™„ê²°**ë©ë‹ˆë‹¤.

---

### 2ï¸âƒ£ **Animator ì‚¬ìš© ëª…í™•í™”**
![Animator](./Assets/ScreenShots/animator.png)
- `StarStateAnimationControll` ìŠ¤í¬ë¦½íŠ¸ì—ì„œ Animatorì˜ íŠ¸ë¦¬ê±°(`SetOn`, `SetOff`, `SetTwinkle`)ë¥¼ í˜¸ì¶œí•˜ì—¬  
  **UI ìš”ì†Œì˜ ìƒíƒœ ì „ì´(State Transition)** ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.  
- ì½”ë“œë¥¼ í†µí•´ ì§ì ‘ ì• ë‹ˆë©”ì´ì…˜ íƒ€ì´ë°ì„ ì¡°ì •í•˜ì§€ ì•Šê³ ,  
  Animator Controllerë¥¼ í™œìš©í•´ **ì‹œê° ì—°ì¶œì˜ ìì—°ìŠ¤ëŸ¬ì›€ê³¼ ìœ ì§€ë³´ìˆ˜ì„±**ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

---

### 3ï¸âƒ£ **DOTween í™œìš©**

```
/*
 * UIStarFXManager.cs (Simplified Version)
 * ------------------------------------------------------------
 * ì—­í• 
 *  - UI ìƒì—ì„œ í´ë¦­ ì§€ì (ë˜ëŠ” íŠ¹ì • UI ìš”ì†Œ ì¤‘ì‹¬)ì—ì„œ
 *    ë³„ ì•„ì´ì½˜ì„ ìœ„ë¡œ ì†Ÿêµ¬ì¹˜ê²Œ í•œ ë’¤ ìì—°ìŠ¤ëŸ½ê²Œ ë‚™í•˜ì‹œí‚¤ëŠ” ì—°ì¶œì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
 *  - DOTweenì„ í™œìš©í•˜ì—¬ ìƒìŠ¹, í•˜ê°•, íšŒì „, í˜ì´ë“œ ì•„ì›ƒì„ í•¨ê»˜ ì²˜ë¦¬í•©ë‹ˆë‹¤.
 *
 * íŠ¹ì§•
 *  - Canvas ì¢Œí‘œê³„ ê¸°ë°˜ìœ¼ë¡œ ì‘ë™í•˜ë©°, Overlay / ScreenSpace-Camera ëª¨ë‘ ì§€ì›ë©ë‹ˆë‹¤.
 *  - ì˜¤ë¸Œì íŠ¸ í’€(starPool)ì„ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ ë¶€ë‹´ ì—†ì´ ë°˜ë³µ ë°©ì¶œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
 *  - ì½”ë“œë¥¼ ë‹¨ìˆœí™”í•˜ì—¬ ì‚¬ìš©ìê°€ ë³„ë„ì˜ ì˜µì…˜ ì—†ì´ ì‰½ê²Œ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
 *
 * ì‚¬ìš© ì˜ˆì‹œ
 *  - UIStarFXManager.Instance.PlayAtTarget(myButtonRect);
 */

using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using DG.Tweening;

public class UIStarFXManager : MonoBehaviour
{
    [Header("References")]
    [SerializeField] RectTransform canvasRect;      // ìƒìœ„ Canvasì˜ RectTransform
    [SerializeField] Camera uiCamera;               // ScreenSpace-Camera ëª¨ë“œë¼ë©´ í• ë‹¹, Overlayë©´ null
    [SerializeField] List<RectTransform> starPool;  // ë¯¸ë¦¬ ë°°ì¹˜ëœ ë¹„í™œì„± ë³„ ì˜¤ë¸Œì íŠ¸ë“¤ (Image í¬í•¨ ê¶Œì¥)

    [Header("Emission Settings")]
    [SerializeField] int emitCount = 7;             // í•œ ë²ˆì— ë°©ì¶œí•  ë³„ ê°œìˆ˜
    [SerializeField] Vector2 xRange = new Vector2(-260f, 260f); // ì¢Œìš° í©ë¿Œë¦¼ ë²”ìœ„
    [SerializeField] Vector2 upRange = new Vector2(380f, 620f); // ìƒìŠ¹ ë†’ì´ ë²”ìœ„
    [SerializeField] Vector2 fallRange = new Vector2(720f, 980f);// ë‚™í•˜ ê±°ë¦¬ ë²”ìœ„

    [Header("Timing & Motion")]
    [SerializeField] float totalDuration = 1.25f;   // ì „ì²´ ì—°ì¶œ ì‹œê°„
    [SerializeField] float apexRatio = 0.42f;       // ìƒìŠ¹ ë¹„ìœ¨
    [SerializeField] Vector2 startScaleRange = new Vector2(0.45f, 0.9f);
    [SerializeField] Vector2 spinRange = new Vector2(-720f, 720f); // íšŒì „ ê°ë„ ë²”ìœ„
    [SerializeField] AnimationCurve easeUp = null;  // ìƒìŠ¹ êµ¬ê°„ ì´ì§•
    [SerializeField] AnimationCurve easeDown = null;// í•˜ê°• êµ¬ê°„ ì´ì§•

    /// <summary>
    /// ì§€ì •í•œ RectTransform ì¤‘ì‹¬ì—ì„œ ë³„ ì´í™íŠ¸ë¥¼ ë°©ì¶œí•©ë‹ˆë‹¤.
    /// </summary>
    public void PlayAtTarget(RectTransform target)
    {
        // íƒ€ê²Ÿ ì¤‘ì‹¬ì ì„ ì›”ë“œ â†’ ìŠ¤í¬ë¦° â†’ ë¡œì»¬ë¡œ ë³€í™˜
        Vector3 worldPos = target.TransformPoint(target.rect.center);
        var screenPos = RectTransformUtility.WorldToScreenPoint(uiCamera, worldPos);

        int spawned = 0;
        for (int i = 0; i < starPool.Count && spawned < emitCount; i++)
        {
            var star = starPool[i];
            if (star.gameObject.activeSelf) continue;

            var parent = (RectTransform)star.parent;
            RectTransformUtility.ScreenPointToLocalPointInRectangle(
                parent, screenPos, uiCamera, out var localForParent);

            star.anchoredPosition = localForParent;
            LaunchOne(star, localForParent);
            spawned++;
        }
    }

    /// <summary>
    /// ë‹¨ì¼ ë³„ì„ ë°œì‚¬í•˜ê³  ìƒìŠ¹/ë‚™í•˜/í˜ì´ë“œ/íšŒì „ì„ DOTween ì‹œí€€ìŠ¤ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
    /// </summary>
    void LaunchOne(RectTransform star, Vector2 origin)
    {
        star.gameObject.SetActive(true);
        star.anchoredPosition = origin;

        // ì‹œì‘ í¬ê¸°ì™€ ìƒ‰ìƒ ì´ˆê¸°í™”
        float s = Random.Range(startScaleRange.x, startScaleRange.y);
        star.localScale = Vector3.one * s;

        var img = star.GetComponent<Image>();
        if (img != null)
            img.color = new Color(img.color.r, img.color.g, img.color.b, 1f);

        // ê¶¤ì  ê³„ì‚°
        float dx = Random.Range(xRange.x, xRange.y);
        float up = Random.Range(upRange.x, upRange.y);
        float fall = Random.Range(fallRange.x, fallRange.y);

        Vector2 apex = origin + new Vector2(dx * 0.5f, up);
        Vector2 target = origin + new Vector2(dx, -fall);

        float t1 = Mathf.Clamp01(apexRatio) * totalDuration;
        float t2 = totalDuration - t1;

        // ìƒìŠ¹/í•˜ê°• íŠ¸ìœˆ êµ¬ì„±
        var seq = DOTween.Sequence();

        var upTween = star.DOAnchorPos(apex, t1)
            .SetEase(easeUp != null ? Ease.INTERNAL_Custom : Ease.OutQuad);
        if (easeUp != null) upTween.SetEase(easeUp);

        var downTween = star.DOAnchorPos(target, t2)
            .SetEase(easeDown != null ? Ease.INTERNAL_Custom : Ease.InQuad);
        if (easeDown != null) downTween.SetEase(easeDown);

        seq.Append(upTween).Append(downTween);

        // íšŒì „ ë° í˜ì´ë“œ ë³‘í–‰
        float spin = Random.Range(spinRange.x, spinRange.y);
        seq.Join(star.DORotate(new Vector3(0, 0, spin), totalDuration, RotateMode.FastBeyond360));

        if (img != null)
            seq.Join(img.DOFade(0f, totalDuration));

        // ì™„ë£Œ ì‹œ ë³µê·€
        seq.OnComplete(() =>
        {
            star.gameObject.SetActive(false);
            star.rotation = Quaternion.identity;
        });
    }
}

```
- `UIStarFXManager` ë‚´ì—ì„œ DOTween Sequenceë¥¼ ì‚¬ìš©í•˜ì—¬  
  **ë³„ì˜ ìƒìŠ¹ â†’ ë‚™í•˜ â†’ íšŒì „ â†’ í˜ì´ë“œ ì•„ì›ƒ** ê³¼ì •ì„ íŠ¸ìœˆ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.  
- `Ease.OutQuad`, `Ease.InQuad` ì´ì§• ì¡°í•©ìœ¼ë¡œ ë¬¼ë¦¬ì ìœ¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ì¤‘ë ¥ê°ì„ í‘œí˜„í–ˆê³ ,  
  ì—¬ëŸ¬ íŠ¸ìœˆì„ `Join()`ìœ¼ë¡œ ë³‘í•©í•˜ì—¬ **í•˜ë‚˜ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ì—°ì¶œ ì‹œí€€ìŠ¤**ë¥¼ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.

---

### 4ï¸âƒ£ **ì´í™íŠ¸ êµ¬í˜„ ë° ìµœì í™”**
- ì‹¤ì œ ë³„ ì˜¤ë¸Œì íŠ¸ë¥¼ UI ìƒì—ì„œ ìŠ¤í¬ë¦° ì¢Œí‘œ ë³€í™˜ì„ ê±°ì³ ë°œì‚¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.  
  (RectTransformUtility.WorldToScreenPoint â†’ LocalPoint ë³€í™˜)  
- ë³„ ì˜¤ë¸Œì íŠ¸ë“¤ì€ **ì˜¤ë¸Œì íŠ¸ í’€(List<RectTransform>)** ë¡œ ê´€ë¦¬ë˜ì–´,  
  Instantiate ì—†ì´ `SetActive(true/false)`ë¡œë§Œ í™œì„±í™”Â·ë¹„í™œì„±í™”ë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.  
- ì´ë¥¼ í†µí•´ **ë©”ëª¨ë¦¬ í• ë‹¹ ìµœì†Œí™”**, **GC ìŠ¤íŒŒì´í¬ ë°©ì§€**, **UI ë°˜ì‘ì†ë„ í–¥ìƒ**ì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤.

---

### 5ï¸âƒ£ **ë²„íŠ¼ ì´ë²¤íŠ¸ ì²˜ë¦¬ êµ¬ì¡°**
- Unityì˜ `Button.onClick` ì´ë²¤íŠ¸ëŠ” ì¸ìŠ¤í™í„°ì—ì„œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì§ì ‘ ì „ë‹¬í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ,  
  `StarSpawnOnClick` ìŠ¤í¬ë¦½íŠ¸ì—ì„œ `AddListener()` ë°©ì‹ìœ¼ë¡œ ëŸ°íƒ€ì„ì— ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í–ˆìŠµë‹ˆë‹¤.  
- ì´ë¥¼ í†µí•´ í´ë¦­ëœ ë²„íŠ¼ì˜ `RectTransform` ì •ë³´ë¥¼ ì§ì ‘ ì°¸ì¡°í•˜ì—¬  
  **í•´ë‹¹ UI ìš”ì†Œ ì¤‘ì‹¬ì—ì„œ ë³„ ì´í™íŠ¸ë¥¼ ì¬ìƒ**í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.  
- ê²°ê³¼ì ìœ¼ë¡œ **ì¸ìŠ¤í™í„° ì„¤ì • ì—†ì´ë„ ìë™ìœ¼ë¡œ ì‘ë™í•˜ëŠ” êµ¬ì¡°**ë¥¼ ê°–ìŠµë‹ˆë‹¤.

---

## âš™ï¸ ê¸°ìˆ  ìš”ì•½

| í•­ëª© | êµ¬í˜„ ìš”ì†Œ | ê¸°ìˆ  ì˜ë„ |
|------|-------------|-----------|
| **Animator** | `StarStateAnimationControll` | ë³„ ìƒíƒœ ì „í™˜ ë° ì‹œê°ì  ë°˜ì‘ êµ¬í˜„ |
| **ì´í™íŠ¸** | `UIStarFXManager` | ë³„ ë°œì‚¬ ë° í˜ì´ë“œ ì•„ì›ƒ ì—°ì¶œ |
| **DOTween** | DOTween Sequence | ë³µí•© ì• ë‹ˆë©”ì´ì…˜(ì´ë™Â·íšŒì „Â·í˜ì´ë“œ) êµ¬ì„± |
| **UI ê¸°ë°˜ êµ¬ì¡°** | Canvas + RectTransform | ëª¨ë“  ì—°ì¶œì´ UGUI ìƒì—ì„œ ì¼ê´€ë˜ê²Œ ì‘ë™ |
| **ì˜¤ë¸Œì íŠ¸ í’€ë§** | SetActive ì¬ì‚¬ìš© | ì„±ëŠ¥ ìµœì í™” ë° ë©”ëª¨ë¦¬ ê´€ë¦¬ |
| **ì´ë²¤íŠ¸ ì²˜ë¦¬** | Button.AddListener() | ëŸ°íƒ€ì„ ì´ë²¤íŠ¸ ì—°ê²°ë¡œ ìœ ì§€ë³´ìˆ˜ì„± ê°•í™” |

---

## ğŸ§© ê²°ë¡ 
ë³¸ UI FX DemoëŠ” ì¼€ì´ì—˜í”¼ì˜ **UI ì—°ì¶œ ë°ëª¨ ê³¼ì œ ìš”êµ¬ì‚¬í•­ì„ ì •í™•íˆ ì¶©ì¡±**í•˜ë©°,  
Animator, DOTween, ì´í™íŠ¸, UI ì‹œìŠ¤í…œì„ ëª¨ë‘ ì‹¤ë¬´ì ìœ¼ë¡œ ê²°í•©í•œ êµ¬ì¡°ì…ë‹ˆë‹¤.  

- **Animator**ë¡œ ìƒíƒœ ë³€í™”ë¥¼,  
- **DOTween**ìœ¼ë¡œ ì‹œê°ì  ì›€ì§ì„ì„,  
- **ì˜¤ë¸Œì íŠ¸ í’€ë§**ìœ¼ë¡œ ì„±ëŠ¥ì„,  
- **Button AddListener**ë¡œ ëŸ°íƒ€ì„ ìœ ì—°ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.  

> ğŸ¯ **í•µì‹¬ ë©”ì‹œì§€:**  
> â€œí•˜ë‚˜ì˜ í´ë¦­ì´ ìƒíƒœ ë³€í™”, ëª¨ì…˜, ì´í™íŠ¸ë¡œ ì´ì–´ì§€ëŠ” ì™„ê²°ëœ UI ì—°ì¶œ íë¦„.â€  
>  
> ì´ í”„ë¡œì íŠ¸ëŠ” ê³¼ì œ ìš”êµ¬ì¡°ê±´ì„ ì‹¤ë¬´ ìˆ˜ì¤€ìœ¼ë¡œ í•´ì„í•˜ì—¬,  
> **í¼í¬ë¨¼ìŠ¤Â·ê°€ë…ì„±Â·ì¬ì‚¬ìš©ì„±**ì„ ë™ì‹œì— ì¶©ì¡±ì‹œí‚¤ëŠ” ë°©í–¥ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.
